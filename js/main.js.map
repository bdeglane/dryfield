{"version":3,"sources":["webpack:///main.js","webpack:///webpack/bootstrap 1af03dd16b344b0f5035","webpack:///./app/main.js","webpack:///./app/Game.js","webpack:///./app/controller/ScoreController.js","webpack:///./app/model/Score.js","webpack:///./app/event/EventEmitter.js","webpack:///./app/vue/ScoreView.js","webpack:///./app/controller/WaterTankController.js","webpack:///./app/model/WaterTank.js","webpack:///./app/vue/WaterTankView.js","webpack:///./app/controller/FieldsController.js","webpack:///./app/model/Field.js","webpack:///./app/vue/FieldView.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_Game","_Game2","game","init","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_ScoreController","_ScoreController2","_WaterTankController","_WaterTankController2","_FieldsController","_FieldsController2","Game","this","timer","controllers","score","water","fields","initFieldEvent","irriguerEvent","initWaterTankEvent","recolterEvent","frame","_this","setInterval","check","field","model","grow","_this2","_loop","on","view","update","_this3","disableButton","enableButton","hasScore","removeScore","addWater","_this4","_loop2","needed","needWater","irriguer","getTankWater","_this5","_loop3","isMature","recolter","addScore","incrementValue","quantity","getWater","isGameOver","clearInterval","$","modal","keyboard","backdrop","hasWater","_Score","_Score2","_ScoreView","_ScoreView2","ScoreController","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_EventEmitter2","_EventEmitter3","Score","_EventEmitter","getPrototypeOf","emit","EventEmitter","events","eventName","fn","push","index","indexOf","splice","data","event","ScoreView","el","document","getElementById","initEvent","querySelector","innerText","_WaterTank","_WaterTank2","_WaterTankView","_WaterTankView2","WaterTankController","WaterTank","reserve","small","WaterTankView","waterTank","buyWater","buy","addEventListener","e","preventDefault","_Field","_Field2","_FieldView","_FieldView2","FieldsController","compteur","Field","rebound","increment","maturity","Math","ceil","console","log","startMaturityTimer","clearMaturityTimer","isHarvest","FieldView","bindButton","name","button","classList","add","remove","irr","rec","setAttribute"],"mappings":"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","file":"main.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"E:\\\\dev\\\\mvc\\\\event3\\\\public\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Game = __webpack_require__(1);\n\t\n\tvar _Game2 = _interopRequireDefault(_Game);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar game = new _Game2.default();\n\tgame.init();\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _ScoreController = __webpack_require__(2);\n\t\n\tvar _ScoreController2 = _interopRequireDefault(_ScoreController);\n\t\n\tvar _WaterTankController = __webpack_require__(6);\n\t\n\tvar _WaterTankController2 = _interopRequireDefault(_WaterTankController);\n\t\n\tvar _FieldsController = __webpack_require__(9);\n\t\n\tvar _FieldsController2 = _interopRequireDefault(_FieldsController);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Game = function () {\n\t\tfunction Game() {\n\t\t\t_classCallCheck(this, Game);\n\t\n\t\t\tthis.timer = null;\n\t\t\tthis.controllers = {\n\t\t\t\tscore: new _ScoreController2.default(),\n\t\t\t\twater: new _WaterTankController2.default(),\n\t\t\t\tfields: [new _FieldsController2.default(0), new _FieldsController2.default(1), new _FieldsController2.default(2)]\n\t\t\t};\n\t\t}\n\t\n\t\t_createClass(Game, [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init() {\n\t\t\t\tthis.initFieldEvent();\n\t\t\t\tthis.irriguerEvent();\n\t\t\t\tthis.initWaterTankEvent();\n\t\t\t\tthis.recolterEvent();\n\t\t\t\tthis.frame();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'frame',\n\t\t\tvalue: function frame() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tthis.timer = setInterval(function () {\n\t\t\t\t\t_this.check();\n\t\t\t\t\tfor (var field in _this.controllers.fields) {\n\t\t\t\t\t\t_this.controllers.fields[field].model.grow();\n\t\t\t\t\t}\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'initFieldEvent',\n\t\t\tvalue: function initFieldEvent() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tvar _loop = function _loop(field) {\n\t\t\t\t\t_this2.controllers.fields[field].model.on('update', function () {\n\t\t\t\t\t\t_this2.controllers.fields[field].view.update();\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\tfor (var field in this.controllers.fields) {\n\t\t\t\t\t_loop(field);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'initWaterTankEvent',\n\t\t\tvalue: function initWaterTankEvent() {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\tthis.controllers.water.model.on('sec', function () {\n\t\t\t\t\tfor (var field in _this3.controllers.fields) {\n\t\t\t\t\t\t_this3.controllers.fields[field].view.disableButton('irr');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.controllers.water.model.on('full', function () {\n\t\t\t\t\tfor (var field in _this3.controllers.fields) {\n\t\t\t\t\t\t_this3.controllers.fields[field].view.enableButton('irr');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.controllers.water.view.on('buyWater', function () {\n\t\t\t\t\tif (_this3.controllers.score.model.hasScore()) {\n\t\t\t\t\t\t_this3.controllers.score.model.removeScore(1);\n\t\t\t\t\t\t_this3.controllers.water.model.addWater(100);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'irriguerEvent',\n\t\t\tvalue: function irriguerEvent() {\n\t\t\t\tvar _this4 = this;\n\t\n\t\t\t\tvar _loop2 = function _loop2(field) {\n\t\t\t\t\t_this4.controllers.fields[field].view.on('irriguer', function () {\n\t\t\t\t\t\tif (_this4.controllers.fields[field].model.water.value < 100) {\n\t\t\t\t\t\t\tvar needed = _this4.controllers.fields[field].model.needWater();\n\t\t\t\t\t\t\t_this4.controllers.fields[field].model.irriguer(_this4.getTankWater(needed));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\tfor (var field in this.controllers.fields) {\n\t\t\t\t\t_loop2(field);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'recolterEvent',\n\t\t\tvalue: function recolterEvent() {\n\t\t\t\tvar _this5 = this;\n\t\n\t\t\t\tvar _loop3 = function _loop3(field) {\n\t\t\t\t\t_this5.controllers.fields[field].view.on('recolter', function () {\n\t\t\t\t\t\tif (_this5.controllers.fields[field].model.isMature()) {\n\t\t\t\t\t\t\t_this5.controllers.fields[field].model.recolter();\n\t\t\t\t\t\t\t_this5.controllers.score.model.addScore(1);\n\t\t\t\t\t\t\t_this5.controllers.fields[field].model.incrementValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\tfor (var field in this.controllers.fields) {\n\t\t\t\t\t_loop3(field);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getTankWater',\n\t\t\tvalue: function getTankWater(quantity) {\n\t\t\t\treturn this.controllers.water.model.getWater(quantity);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'check',\n\t\t\tvalue: function check() {\n\t\t\t\tif (this.isGameOver()) {\n\t\t\t\t\tclearInterval(this.timer);\n\t\t\t\t\t$('#gameOVer').modal({\n\t\t\t\t\t\tkeyboard: true,\n\t\t\t\t\t\tbackdrop: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isGameOver',\n\t\t\tvalue: function isGameOver() {\n\t\t\t\tif (this.controllers.water.model.water === 0 && !this.controllers.fields[0].model.hasWater() && !this.controllers.fields[1].model.hasWater() && !this.controllers.fields[2].model.hasWater()) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Game;\n\t}();\n\n\texports.default = Game;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _Score = __webpack_require__(3);\n\t\n\tvar _Score2 = _interopRequireDefault(_Score);\n\t\n\tvar _ScoreView = __webpack_require__(5);\n\t\n\tvar _ScoreView2 = _interopRequireDefault(_ScoreView);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ScoreController = function ScoreController() {\n\t\t_classCallCheck(this, ScoreController);\n\t\n\t\tthis.model = new _Score2.default();\n\t\tthis.view = new _ScoreView2.default(this.model);\n\t};\n\t\n\texports.default = ScoreController;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _EventEmitter2 = __webpack_require__(4);\n\t\n\tvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Score = function (_EventEmitter) {\n\t\t_inherits(Score, _EventEmitter);\n\t\n\t\tfunction Score() {\n\t\t\t_classCallCheck(this, Score);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Score).call(this));\n\t\n\t\t\t_this.score = 0;\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Score, [{\n\t\t\tkey: 'addScore',\n\t\t\tvalue: function addScore(score) {\n\t\t\t\tthis.score += score;\n\t\t\t\tthis.emit('update');\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'removeScore',\n\t\t\tvalue: function removeScore(value) {\n\t\t\t\tthis.score -= value;\n\t\t\t\tthis.emit('update');\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hasScore',\n\t\t\tvalue: function hasScore() {\n\t\t\t\tif (this.score > 0) return true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Score;\n\t}(_EventEmitter3.default);\n\n\texports.default = Score;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar EventEmitter = function () {\n\t\tfunction EventEmitter() {\n\t\t\t_classCallCheck(this, EventEmitter);\n\t\n\t\t\tthis.events = [];\n\t\t}\n\t\n\t\t/**\r\n\t  *\r\n\t  * création de l'événement si il n'existe pas\r\n\t  * sinon, ajout d'une callback sur l'événement\r\n\t  * on écoute l'événement\r\n\t  *\r\n\t  * @param eventName string\r\n\t  * @param fn callback\r\n\t  */\n\t\n\t\n\t\t_createClass(EventEmitter, [{\n\t\t\tkey: \"on\",\n\t\t\tvalue: function on(eventName, fn) {\n\t\t\t\tthis.events[eventName] = this.events[eventName] || [];\n\t\t\t\tthis.events[eventName].push(fn);\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   *\r\n\t   * @param eventName string\r\n\t   * @param fn callback\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: \"off\",\n\t\t\tvalue: function off(eventName, fn) {\n\t\t\t\tvar index = this.events[eventName].indexOf(fn);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tthis.events[eventName].splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\r\n\t   *\r\n\t   * déclenche l'événement\r\n\t   *\r\n\t   * @param eventName string\r\n\t   * @param data\r\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: \"emit\",\n\t\t\tvalue: function emit(eventName, data) {\n\t\t\t\t// todo delete show event name in console\n\t\t\t\t//console.log(eventName);\n\t\t\t\tif (this.events[eventName]) {\n\t\t\t\t\tfor (var event in this.events[eventName]) {\n\t\t\t\t\t\tthis.events[eventName][event](data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn EventEmitter;\n\t}();\n\n\texports.default = EventEmitter;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ScoreView = function () {\n\t\tfunction ScoreView(Score) {\n\t\t\t_classCallCheck(this, ScoreView);\n\t\n\t\t\tthis.score = Score;\n\t\t\tthis.el = document.getElementById('score');\n\t\t\tthis.update();\n\t\t\tthis.initEvent();\n\t\t}\n\t\n\t\t_createClass(ScoreView, [{\n\t\t\tkey: 'initEvent',\n\t\t\tvalue: function initEvent() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tthis.score.on('update', function () {\n\t\t\t\t\t_this.update();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'update',\n\t\t\tvalue: function update() {\n\t\t\t\tthis.el.querySelector('.value').innerText = this.score.score;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn ScoreView;\n\t}();\n\n\texports.default = ScoreView;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _WaterTank = __webpack_require__(7);\n\t\n\tvar _WaterTank2 = _interopRequireDefault(_WaterTank);\n\t\n\tvar _WaterTankView = __webpack_require__(8);\n\t\n\tvar _WaterTankView2 = _interopRequireDefault(_WaterTankView);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar WaterTankController = function WaterTankController() {\n\t\t_classCallCheck(this, WaterTankController);\n\t\n\t\tthis.model = new _WaterTank2.default();\n\t\tthis.view = new _WaterTankView2.default(this.model);\n\t};\n\t\n\texports.default = WaterTankController;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _EventEmitter2 = __webpack_require__(4);\n\t\n\tvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar WaterTank = function (_EventEmitter) {\n\t\t_inherits(WaterTank, _EventEmitter);\n\t\n\t\tfunction WaterTank() {\n\t\t\t_classCallCheck(this, WaterTank);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WaterTank).call(this));\n\t\n\t\t\t_this.water = 500;\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(WaterTank, [{\n\t\t\tkey: 'getWater',\n\t\t\tvalue: function getWater(quantity) {\n\t\t\t\tif (this.water > 0) {\n\t\t\t\t\tvar reserve = this.water - quantity;\n\t\t\t\t\tif (reserve <= 0) {\n\t\t\t\t\t\tvar small = this.water;\n\t\t\t\t\t\tthis.water = 0;\n\t\t\t\t\t\tthis.emit('update');\n\t\t\t\t\t\tthis.emit('sec');\n\t\t\t\t\t\treturn small;\n\t\t\t\t\t}\n\t\t\t\t\tthis.water -= quantity;\n\t\t\t\t\tthis.emit('update');\n\t\t\t\t\treturn quantity;\n\t\n\t\t\t\t\t//return (10);\n\t\t\t\t} else {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'addWater',\n\t\t\tvalue: function addWater(quantity) {\n\t\t\t\tthis.water += quantity;\n\t\t\t\tthis.emit('update');\n\t\t\t\tthis.emit('full');\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn WaterTank;\n\t}(_EventEmitter3.default);\n\n\texports.default = WaterTank;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _EventEmitter2 = __webpack_require__(4);\n\t\n\tvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar WaterTankView = function (_EventEmitter) {\n\t\t_inherits(WaterTankView, _EventEmitter);\n\t\n\t\tfunction WaterTankView(waterTank) {\n\t\t\t_classCallCheck(this, WaterTankView);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WaterTankView).call(this));\n\t\n\t\t\t_this.waterTank = waterTank;\n\t\t\t_this.el = document.getElementById('water-tank');\n\t\t\t_this.update();\n\t\t\t_this.initEvent();\n\t\t\t_this.buyWater();\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(WaterTankView, [{\n\t\t\tkey: 'initEvent',\n\t\t\tvalue: function initEvent() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tthis.waterTank.on('update', function () {\n\t\t\t\t\t_this2.update();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'buyWater',\n\t\t\tvalue: function buyWater() {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\tvar buy = document.getElementById('buy');\n\t\t\t\tbuy.addEventListener('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t_this3.emit('buyWater');\n\t\t\t\t}, false);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'update',\n\t\t\tvalue: function update() {\n\t\t\t\tthis.el.querySelector('.value').innerText = this.waterTank.water;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn WaterTankView;\n\t}(_EventEmitter3.default);\n\n\texports.default = WaterTankView;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _Field = __webpack_require__(10);\n\t\n\tvar _Field2 = _interopRequireDefault(_Field);\n\t\n\tvar _FieldView = __webpack_require__(11);\n\t\n\tvar _FieldView2 = _interopRequireDefault(_FieldView);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar FieldsController = function FieldsController(compteur) {\n\t\t_classCallCheck(this, FieldsController);\n\t\n\t\tthis.compteur = compteur;\n\t\tthis.model = new _Field2.default();\n\t\tthis.view = new _FieldView2.default(this.model, this.compteur);\n\t};\n\t\n\texports.default = FieldsController;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _EventEmitter2 = __webpack_require__(4);\n\t\n\tvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Field = function (_EventEmitter) {\n\t\t_inherits(Field, _EventEmitter);\n\t\n\t\tfunction Field() {\n\t\t\t_classCallCheck(this, Field);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Field).call(this));\n\t\n\t\t\t_this.timer = null;\n\t\t\t_this.rebound = 0;\n\t\t\t_this.increment = {\n\t\t\t\twater: 1,\n\t\t\t\tmaturity: 1\n\t\t\t};\n\t\t\t_this.water = {\n\t\t\t\tvalue: 50,\n\t\t\t\tincrement: function increment() {\n\t\t\t\t\treturn Math.ceil(-10 * _this.increment.water);\n\t\t\t\t}\n\t\t\t};\n\t\t\t_this.maturity = {\n\t\t\t\tvalue: 0,\n\t\t\t\tincrement: function increment() {\n\t\t\t\t\treturn Math.ceil(10 * _this.increment.maturity);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(Field, [{\n\t\t\tkey: 'grow',\n\t\t\tvalue: function grow() {\n\t\t\t\tif (this.maturity.value >= 100) this.maturity.value = 100;\n\t\n\t\t\t\tif (this.water.value <= 0) this.water.value = 0;\n\t\n\t\t\t\t// si le champs est prêt\n\t\t\t\tif (this.maturity.value >= 100) {\n\t\t\t\t\t// le modele emet l'evenement ready\n\t\t\t\t\tconsole.log('ready');\n\t\t\t\t\tthis.emit('ready');\n\t\t\t\t\t// le model lance un timer de disponibilite\n\t\t\t\t\tthis.startMaturityTimer();\n\t\t\t\t}\n\t\t\t\t// sinon si le champs n'est pas mature\n\t\t\t\t// et possede de l'eau\n\t\t\t\telse if (!this.isMature() && this.hasWater()) {\n\t\t\t\t\t\t// le modele supprime le timer car il peut grandir\n\t\t\t\t\t\tthis.clearMaturityTimer();\n\t\t\t\t\t\t// incrementation de la maturite du champs\n\t\t\t\t\t\t// decrementation de l'eau\n\t\t\t\t\t\tthis.maturity.value += this.maturity.increment();\n\t\t\t\t\t\tthis.water.value += this.water.increment();\n\t\t\t\t\t\t// le modele emet l'evenement notReady\n\t\t\t\t\t\tthis.emit('notReady');\n\t\t\t\t\t}\n\t\t\t\t\t// si le champs n'a plus d'eau\n\t\t\t\t\telse if (this.water.value <= 0) {\n\t\t\t\t\t\t\t// le modele emet l'evenement needWater\n\t\t\t\t\t\t\tthis.emit('needWater');\n\t\t\t\t\t\t\t// le model lance un timer de disponibilite\n\t\t\t\t\t\t\tthis.startMaturityTimer();\n\t\t\t\t\t\t}\n\t\t\t\tthis.emit('update');\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'startMaturityTimer',\n\t\t\tvalue: function startMaturityTimer() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tif (this.timer === null) {\n\t\t\t\t\tthis.timer = setInterval(function () {\n\t\t\t\t\t\t_this2.isHarvest();\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'clearMaturityTimer',\n\t\t\tvalue: function clearMaturityTimer() {\n\t\t\t\tclearInterval(this.timer);\n\t\t\t\tthis.timer = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hasWater',\n\t\t\tvalue: function hasWater() {\n\t\t\t\tif (this.water.value > 0) return true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isMature',\n\t\t\tvalue: function isMature() {\n\t\t\t\tif (this.maturity.value >= 100) return true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'isHarvest',\n\t\t\tvalue: function isHarvest() {\n\t\t\t\tif (this.rebound >= 2) {\n\t\t\t\t\tclearInterval(this.timer);\n\t\t\t\t\tthis.rebound = 0;\n\t\t\t\t\tthis.maturity.value = 0;\n\t\t\t\t\tthis.emit('notReady');\n\t\t\t\t\tthis.clearMaturityTimer();\n\t\t\t\t} else {\n\t\t\t\t\tthis.rebound += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'irriguer',\n\t\t\tvalue: function irriguer(quantity) {\n\t\t\t\tthis.water.value += quantity;\n\t\t\t\tthis.emit('update');\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'recolter',\n\t\t\tvalue: function recolter() {\n\t\t\t\tthis.maturity.value = 0;\n\t\t\t\tthis.emit('update');\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'incrementValue',\n\t\t\tvalue: function incrementValue() {\n\t\t\t\tthis.increment.maturity *= 0.85;\n\t\t\t\tthis.increment.water *= 1.05;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'needWater',\n\t\t\tvalue: function needWater() {\n\t\t\t\treturn Math.ceil(100 - this.water.value);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Field;\n\t}(_EventEmitter3.default);\n\n\texports.default = Field;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _EventEmitter2 = __webpack_require__(4);\n\t\n\tvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FieldView = function (_EventEmitter) {\n\t\t_inherits(FieldView, _EventEmitter);\n\t\n\t\tfunction FieldView(Field, id) {\n\t\t\t_classCallCheck(this, FieldView);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(FieldView).call(this));\n\t\n\t\t\t_this.field = Field;\n\t\t\t_this.id = id;\n\t\t\t_this.el = document.getElementById('field-' + _this.id);\n\t\t\t_this.update();\n\t\t\t_this.init();\n\t\t\t_this.bindButton();\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(FieldView, [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tthis.field.on('update', function () {\n\t\t\t\t\t_this2.update();\n\t\t\t\t});\n\t\t\t\tthis.field.on('notReady', function () {\n\t\t\t\t\t_this2.disableButton('rec');\n\t\t\t\t});\n\t\t\t\tthis.field.on('ready', function () {\n\t\t\t\t\t_this2.enableButton('rec');\n\t\t\t\t});\n\t\t\t\tthis.field.on('needWater', function () {});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'bindButton',\n\t\t\tvalue: function bindButton() {\n\t\t\t\tthis.irriguer();\n\t\t\t\tthis.recolter();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'disableButton',\n\t\t\tvalue: function disableButton(name) {\n\t\t\t\tvar button = document.getElementById(name + '-' + this.id);\n\t\t\t\tbutton.classList.add('disabled');\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'enableButton',\n\t\t\tvalue: function enableButton(name) {\n\t\t\t\tvar button = document.getElementById(name + '-' + this.id);\n\t\t\t\tbutton.classList.remove('disabled');\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'irriguer',\n\t\t\tvalue: function irriguer() {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\tvar irr = document.getElementById('irr-' + this.id);\n\t\t\t\tirr.addEventListener('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t_this3.emit('irriguer');\n\t\t\t\t}, false);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'recolter',\n\t\t\tvalue: function recolter() {\n\t\t\t\tvar _this4 = this;\n\t\n\t\t\t\tvar rec = document.getElementById('rec-' + this.id);\n\t\t\t\trec.addEventListener('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (_this4.field.isMature()) {\n\t\t\t\t\t\t_this4.emit('recolter');\n\t\t\t\t\t\t_this4.disableButton('rec');\n\t\t\t\t\t}\n\t\t\t\t}, false);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'update',\n\t\t\tvalue: function update() {\n\t\t\t\tvar water = this.el.querySelector('.progress-water-' + this.id);\n\t\t\t\t//water.innerText = this.field.water.value;\n\t\t\t\twater.setAttribute('aria-valuenow', this.field.water.value);\n\t\t\t\twater.setAttribute('style', 'width:' + this.field.water.value + '%');\n\t\n\t\t\t\tvar maturity = this.el.querySelector('.progress-maturity-' + this.id);\n\t\t\t\t//maturity.innerText = this.field.maturity.value;\n\t\t\t\tmaturity.setAttribute('aria-valuenow', this.field.maturity.value);\n\t\t\t\tmaturity.setAttribute('style', 'width:' + this.field.maturity.value + '%');\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn FieldView;\n\t}(_EventEmitter3.default);\n\n\texports.default = FieldView;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"E:\\\\dev\\\\mvc\\\\event3\\\\public\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1af03dd16b344b0f5035\n **/","import Game from './Game';\r\n\r\nlet game = new Game();\r\ngame.init();\n\n\n/** WEBPACK FOOTER **\n ** ./app/main.js\n **/","import ScoreController from './controller/ScoreController';\r\nimport WaterTankController from './controller/WaterTankController';\r\nimport FieldsController from './controller/FieldsController';\r\n\r\nexport default class Game {\r\n\tconstructor() {\r\n\t\tthis.timer = null;\r\n\t\tthis.controllers = {\r\n\t\t\tscore: new ScoreController(),\r\n\t\t\twater: new WaterTankController(),\r\n\t\t\tfields: [\r\n\t\t\t\tnew FieldsController(0),\r\n\t\t\t\tnew FieldsController(1),\r\n\t\t\t\tnew FieldsController(2)\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.initFieldEvent();\r\n\t\tthis.irriguerEvent();\r\n\t\tthis.initWaterTankEvent();\r\n\t\tthis.recolterEvent();\r\n\t\tthis.frame();\r\n\t}\r\n\r\n\tframe() {\r\n\t\tthis.timer = setInterval(()=> {\r\n\t\t\tthis.check();\r\n\t\t\tfor (let field in this.controllers.fields) {\r\n\t\t\t\tthis.controllers.fields[field].model.grow();\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t}\r\n\r\n\tinitFieldEvent() {\r\n\t\tfor (let field in this.controllers.fields) {\r\n\t\t\tthis.controllers.fields[field].model.on('update', ()=> {\r\n\t\t\t\tthis.controllers.fields[field].view.update();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tinitWaterTankEvent() {\r\n\t\tthis.controllers.water.model.on('sec', ()=> {\r\n\t\t\tfor (let field in this.controllers.fields) {\r\n\t\t\t\tthis.controllers.fields[field].view.disableButton('irr');\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.controllers.water.model.on('full', ()=> {\r\n\t\t\tfor (let field in this.controllers.fields) {\r\n\t\t\t\tthis.controllers.fields[field].view.enableButton('irr');\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.controllers.water.view.on('buyWater', ()=> {\r\n\t\t\tif (this.controllers.score.model.hasScore()) {\r\n\t\t\t\tthis.controllers.score.model.removeScore(1);\r\n\t\t\t\tthis.controllers.water.model.addWater(100);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tirriguerEvent() {\r\n\t\tfor (let field in this.controllers.fields) {\r\n\t\t\tthis.controllers.fields[field].view.on('irriguer', ()=> {\r\n\t\t\t\tif (this.controllers.fields[field].model.water.value < 100) {\r\n\t\t\t\t\tlet needed = this.controllers.fields[field].model.needWater();\r\n\t\t\t\t\tthis.controllers.fields[field].model.irriguer(this.getTankWater(needed));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trecolterEvent() {\r\n\t\tfor (let field in this.controllers.fields) {\r\n\t\t\tthis.controllers.fields[field].view.on('recolter', ()=> {\r\n\t\t\t\tif (this.controllers.fields[field].model.isMature()) {\r\n\t\t\t\t\tthis.controllers.fields[field].model.recolter();\r\n\t\t\t\t\tthis.controllers.score.model.addScore(1);\r\n\t\t\t\t\tthis.controllers.fields[field].model.incrementValue();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetTankWater(quantity) {\r\n\t\treturn this.controllers.water.model.getWater(quantity);\r\n\t}\r\n\r\n\tcheck() {\r\n\t\tif (this.isGameOver()) {\r\n\t\t\tclearInterval(this.timer);\r\n\t\t\t$('#gameOVer').modal({\r\n\t\t\t\tkeyboard: true,\r\n\t\t\t\tbackdrop: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tisGameOver() {\r\n\t\tif (\r\n\t\t\tthis.controllers.water.model.water === 0 &&\r\n\t\t\t!this.controllers.fields[0].model.hasWater() &&\r\n\t\t\t!this.controllers.fields[1].model.hasWater() &&\r\n\t\t\t!this.controllers.fields[2].model.hasWater()\r\n\t\t) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/Game.js\n **/","import Score from '../model/Score';\r\nimport ScoreView from '../vue/ScoreView';\r\n\r\nexport default class ScoreController {\r\n\tconstructor() {\r\n\t\tthis.model = new Score();\r\n\t\tthis.view = new ScoreView(this.model);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/controller/ScoreController.js\n **/","import EventEmitter from '../event/EventEmitter';\r\n\r\nexport default class Score extends EventEmitter {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.score = 0;\r\n\t}\r\n\r\n\taddScore(score) {\r\n\t\tthis.score += score;\r\n\t\tthis.emit('update');\r\n\t}\r\n\r\n\tremoveScore(value) {\r\n\t\tthis.score -= value;\r\n\t\tthis.emit('update');\r\n\t}\r\n\r\n\thasScore() {\r\n\t\tif (this.score > 0)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/model/Score.js\n **/","export default class EventEmitter {\r\n\tconstructor() {\r\n\t\tthis.events = [];\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * création de l'événement si il n'existe pas\r\n\t * sinon, ajout d'une callback sur l'événement\r\n\t * on écoute l'événement\r\n\t *\r\n\t * @param eventName string\r\n\t * @param fn callback\r\n\t */\r\n\ton(eventName, fn) {\r\n\t\tthis.events[eventName] = this.events[eventName] || [];\r\n\t\tthis.events[eventName].push(fn);\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param eventName string\r\n\t * @param fn callback\r\n\t */\r\n\toff(eventName, fn) {\r\n\t\tlet index = this.events[eventName].indexOf(fn);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.events[eventName].splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * déclenche l'événement\r\n\t *\r\n\t * @param eventName string\r\n\t * @param data\r\n\t */\r\n\temit(eventName, data) {\r\n\t\t// todo delete show event name in console\r\n\t\t//console.log(eventName);\r\n\t\tif (this.events[eventName]) {\r\n\t\t\tfor (let event in this.events[eventName]) {\r\n\t\t\t\tthis.events[eventName][event](data);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/event/EventEmitter.js\n **/","export default class ScoreView {\r\n\tconstructor(Score) {\r\n\t\tthis.score = Score;\r\n\t\tthis.el = document.getElementById('score');\r\n\t\tthis.update();\r\n\t\tthis.initEvent();\r\n\t}\r\n\r\n\tinitEvent() {\r\n\t\tthis.score.on('update', ()=> {\r\n\t\t\tthis.update();\r\n\t\t});\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.el.querySelector('.value').innerText = this.score.score;\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/vue/ScoreView.js\n **/","import WaterTank from '../model/WaterTank';\r\nimport WaterTankView from '../vue/WaterTankView';\r\n\r\nexport default class WaterTankController {\r\n\tconstructor() {\r\n\t\tthis.model = new WaterTank();\r\n\t\tthis.view = new WaterTankView(this.model);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/controller/WaterTankController.js\n **/","import EventEmitter from '../event/EventEmitter';\r\n\r\nexport default class WaterTank extends EventEmitter {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.water = 500;\r\n\t}\r\n\r\n\tgetWater(quantity) {\r\n\t\tif (this.water > 0) {\r\n\t\t\tlet reserve = this.water - quantity;\r\n\t\t\tif (reserve <= 0) {\r\n\t\t\t\tlet small = this.water;\r\n\t\t\t\tthis.water = 0;\r\n\t\t\t\tthis.emit('update');\r\n\t\t\t\tthis.emit('sec');\r\n\t\t\t\treturn small;\r\n\t\t\t}\r\n\t\t\tthis.water -= quantity;\r\n\t\t\tthis.emit('update');\r\n\t\t\treturn quantity;\r\n\r\n\r\n\t\t\t//return (10);\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\taddWater(quantity) {\r\n\t\tthis.water += quantity;\r\n\t\tthis.emit('update');\r\n\t\tthis.emit('full');\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/model/WaterTank.js\n **/","import EventEmitter from '../event/EventEmitter';\r\n\r\nexport default class WaterTankView extends EventEmitter {\r\n\tconstructor(waterTank) {\r\n\t\tsuper();\r\n\t\tthis.waterTank = waterTank;\r\n\t\tthis.el = document.getElementById('water-tank');\r\n\t\tthis.update();\r\n\t\tthis.initEvent();\r\n\t\tthis.buyWater();\r\n\t}\r\n\r\n\tinitEvent() {\r\n\t\tthis.waterTank.on('update', ()=> {\r\n\t\t\tthis.update();\r\n\t\t});\r\n\t}\r\n\r\n\tbuyWater() {\r\n\t\tlet buy = document.getElementById('buy');\r\n\t\tbuy.addEventListener('click', (e)=> {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.emit('buyWater');\r\n\t\t}, false);\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.el.querySelector('.value').innerText = this.waterTank.water;\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/vue/WaterTankView.js\n **/","import Field from '../model/Field';\r\nimport FieldView from '../vue/FieldView';\r\n\r\nexport default class FieldsController {\r\n\tconstructor(compteur) {\r\n\t\tthis.compteur = compteur;\r\n\t\tthis.model = new Field();\r\n\t\tthis.view = new FieldView(this.model, this.compteur);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/controller/FieldsController.js\n **/","import EventEmitter from '../event/EventEmitter';\r\n\r\nexport default class Field extends EventEmitter {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.timer = null;\r\n\t\tthis.rebound = 0;\r\n\t\tthis.increment = {\r\n\t\t\twater: 1,\r\n\t\t\tmaturity: 1\r\n\t\t};\r\n\t\tthis.water = {\r\n\t\t\tvalue: 50,\r\n\t\t\tincrement: ()=> {\r\n\t\t\t\treturn Math.ceil(-10 * this.increment.water);\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.maturity = {\r\n\t\t\tvalue: 0,\r\n\t\t\tincrement: ()=> {\r\n\t\t\t\treturn Math.ceil(10 * this.increment.maturity);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tgrow() {\r\n\t\tif (this.maturity.value >= 100)\r\n\t\t\tthis.maturity.value = 100;\r\n\r\n\t\tif (this.water.value <= 0)\r\n\t\t\tthis.water.value = 0;\r\n\r\n\r\n\t\t// si le champs est prêt\r\n\t\tif (this.maturity.value >= 100) {\r\n\t\t\t// le modele emet l'evenement ready\r\n\t\t\tconsole.log('ready');\r\n\t\t\tthis.emit('ready');\r\n\t\t\t// le model lance un timer de disponibilite\r\n\t\t\tthis.startMaturityTimer();\r\n\t\t}\r\n\t\t// sinon si le champs n'est pas mature\r\n\t\t// et possede de l'eau\r\n\t\telse if (\r\n\t\t\t!this.isMature() &&\r\n\t\t\tthis.hasWater()\r\n\t\t) {\r\n\t\t\t// le modele supprime le timer car il peut grandir\r\n\t\t\tthis.clearMaturityTimer();\r\n\t\t\t// incrementation de la maturite du champs\r\n\t\t\t// decrementation de l'eau\r\n\t\t\tthis.maturity.value += this.maturity.increment();\r\n\t\t\tthis.water.value += this.water.increment();\r\n\t\t\t// le modele emet l'evenement notReady\r\n\t\t\tthis.emit('notReady');\r\n\t\t}\r\n\t\t// si le champs n'a plus d'eau\r\n\t\telse if (\r\n\t\t\tthis.water.value <= 0\r\n\t\t) {\r\n\t\t\t// le modele emet l'evenement needWater\r\n\t\t\tthis.emit('needWater');\r\n\t\t\t// le model lance un timer de disponibilite\r\n\t\t\tthis.startMaturityTimer();\r\n\t\t}\r\n\t\tthis.emit('update');\r\n\t}\r\n\r\n\tstartMaturityTimer() {\r\n\t\tif (this.timer === null) {\r\n\t\t\tthis.timer = setInterval(()=> {\r\n\t\t\t\tthis.isHarvest();\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\r\n\tclearMaturityTimer() {\r\n\t\tclearInterval(this.timer);\r\n\t\tthis.timer = null;\r\n\t}\r\n\r\n\thasWater() {\r\n\t\tif (this.water.value > 0)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tisMature() {\r\n\t\tif (this.maturity.value >= 100)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tisHarvest() {\r\n\t\tif (this.rebound >= 2) {\r\n\t\t\tclearInterval(this.timer);\r\n\t\t\tthis.rebound = 0;\r\n\t\t\tthis.maturity.value = 0;\r\n\t\t\tthis.emit('notReady');\r\n\t\t\tthis.clearMaturityTimer();\r\n\t\t} else {\r\n\t\t\tthis.rebound += 1;\r\n\t\t}\r\n\t}\r\n\r\n\tirriguer(quantity) {\r\n\t\tthis.water.value += quantity;\r\n\t\tthis.emit('update');\r\n\t}\r\n\r\n\trecolter() {\r\n\t\tthis.maturity.value = 0;\r\n\t\tthis.emit('update');\r\n\t}\r\n\r\n\tincrementValue() {\r\n\t\tthis.increment.maturity *= 0.85;\r\n\t\tthis.increment.water *= 1.05;\r\n\t}\r\n\r\n\tneedWater() {\r\n\t\treturn Math.ceil(100 - this.water.value);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/model/Field.js\n **/","import EventEmitter from '../event/EventEmitter';\r\n\r\nexport default class FieldView extends EventEmitter {\r\n\tconstructor(Field, id) {\r\n\t\tsuper();\r\n\t\tthis.field = Field;\r\n\t\tthis.id = id;\r\n\t\tthis.el = document.getElementById('field-' + this.id);\r\n\t\tthis.update();\r\n\t\tthis.init();\r\n\t\tthis.bindButton();\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.field.on('update', ()=> {\r\n\t\t\tthis.update();\r\n\t\t});\r\n\t\tthis.field.on('notReady', ()=> {\r\n\t\t\tthis.disableButton('rec');\r\n\t\t});\r\n\t\tthis.field.on('ready', ()=> {\r\n\t\t\tthis.enableButton('rec');\r\n\t\t});\r\n\t\tthis.field.on('needWater', ()=> {\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tbindButton() {\r\n\t\tthis.irriguer();\r\n\t\tthis.recolter();\r\n\t}\r\n\r\n\tdisableButton(name) {\r\n\t\tlet button = document.getElementById(name + '-' + this.id);\r\n\t\tbutton.classList.add('disabled');\r\n\t\tthis.update();\r\n\t}\r\n\r\n\tenableButton(name) {\r\n\t\tlet button = document.getElementById(name + '-' + this.id);\r\n\t\tbutton.classList.remove('disabled');\r\n\t\tthis.update();\r\n\t}\r\n\r\n\tirriguer() {\r\n\t\tlet irr = document.getElementById('irr-' + this.id);\r\n\t\tirr.addEventListener('click', (e)=> {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.emit('irriguer');\r\n\t\t}, false);\r\n\t}\r\n\r\n\trecolter() {\r\n\t\tlet rec = document.getElementById('rec-' + this.id);\r\n\t\trec.addEventListener('click', (e)=> {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (this.field.isMature()) {\r\n\t\t\t\tthis.emit('recolter');\r\n\t\t\t\tthis.disableButton('rec');\r\n\t\t\t}\r\n\t\t}, false);\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tlet water = this.el.querySelector('.progress-water-' + this.id);\r\n\t\t//water.innerText = this.field.water.value;\r\n\t\twater.setAttribute('aria-valuenow', this.field.water.value);\r\n\t\twater.setAttribute('style', 'width:' + this.field.water.value + '%');\r\n\r\n\t\tlet maturity = this.el.querySelector('.progress-maturity-' + this.id);\r\n\t\t//maturity.innerText = this.field.maturity.value;\r\n\t\tmaturity.setAttribute('aria-valuenow', this.field.maturity.value);\r\n\t\tmaturity.setAttribute('style', 'width:' + this.field.maturity.value + '%');\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/vue/FieldView.js\n **/"],"sourceRoot":""}